#Links Required for Signature Based Detection

# Setting up the Simulated Linux Environment

This readme will discuss how to setup the simulated environment for the project.

## Context

A simulated environment is required to ensure that the malware detection tactics
can be easily and safely tested. This document contains the steps required to set
up the simulated environment to ensure everyone who works on this project is working
within the same environment.

In cloud environments, most applications run on a VM which is why the simulated
environment chosen for this project is a Linux Ubuntu Virtual Machine.

## Requirements

* At least 8GB of system RAM available in your PC
    *   4GB will be allocated to the environment and the remaining system RAM
        will be used to run the actual hypervisor.
* At least 8 virtual cores
    * 8 virtual/logical cores will be allocated to the VM.
* At least 12GB of hard drive space available
    * 12GB will be allocated to the VM
* An ISO of [Ubuntu 22.04 LTS](https://releases.ubuntu.com/jammy/).
* A hypervisor/VM software
    * Hyper-V (included in Windows machines)
    * VMWare (Available for Windows & Mac. Free for personal use)

## Setup

Once the requirements have been fetched. The following steps should be followed
1. Launch preferred Hypervisor VM software
2. Create new VM
3. Select Ubuntu 22.04 LTS as the OS (select the ISO downloaded earlier)
4. Configure the RAM settings to be 4GB (4096 MB)
5. Configure the CPU settings to use 8 virtual cores.
6. Configure the VM storage to be 12GB
7. Allow access to the web through your ethernet/wifi connection.


Once the above steps have been followed, then you should be able to boot into the Ubuntu
OS. You will be asked for a pin, please ensure you do not forget this pin.

After setting up Ubuntu, it should restart and you should be able to use it normally.

NOTE: If you are using Hyper-V, you may get an unexpected blue login page. If so, then click on
view and UNCHECK the Enhanced view option. This should fix it and you should see the ubuntu
desktop.

If you have a higher resolution display (1440p+), then I highly recommend changing
the display resolution 1080p or higher.

You will likely be asked to update software at this point, install the updates and restart the
VM.

It is recommended to install support software in the Ubuntu instance to assist in development.
I would recommend installing atleast the following:
1. VS Code (Editing code inside the VM)
2. Git (Getting this repo and pushing changes)
3. VLC (To play videos and audio used in test scripts)


If you run in to issues with these steps, then reach out to Jan.

NOTE: If pushing very large files, it is possible to get an RPC Failed error. If so, then
run the following command

```bash
git config http.postBuffer 524288000
```

## Simulated activities

A VM will perform many different activities throughout its operation. A subset of these
were selected to be ran continuously in the simulated environment. Each activity is ran in its
own script to maintain modularity. A single launcher script was created to launch all of the
scripts at the same time as well.

The scripts created may be found in the Scripts folder. Some scripts create, copy, and
delete files. There are zip/unzip tests, pinging tests, memory stress tests and CPU stress tests. 

These files are located inside the resources folder.

A single launch script was made to launch all of these scripts. However, to launch any script, they
must be marked as executable and this is done with the `chmod +x` command. This MUST be done for
each script for the script to launch. If it is not done, then an error will be displayed. This
should be done for each script and the launcher.

### Ping test (pingLoop.sh)

To run this script, the file must be marked as executable. This is done using
the following command:

```bash
chmod +x pingLoop.sh
```
This script will randomly ping a random website (from a hardcoded list) continuously. After
each ping, the script will delay for several seconds (between 5 and 10 seconds) before starting
another iteration. The script will also print the results to the console.


### File Copy & Delete

To run this script, the file must be marked as executable. This is done using
the following command:

```bash
chmod +x copyDelete.sh
```

This script will look in the ./resources/copyDeleteDirectory, pick a file at random, 
create a copy (name it based on the unix time), and delete the original file. A set of 10
test files has been provided with the repo. The files vary in file type (json, mp4, jpg,
mp3, mp4, txt, png, and zip). The files vary in size from a few dozen bytes up to several
hundred megabytes. These files have been sourced from royalty free & public domain sources.

The script runs in an infinite loop and each iteration is delayed by 10-30 seconds randomly.

The script will stop running if for some reason no files are found. This should be impossible
in normal operation.


### Compress & Extract

To run this script, the file must be marked as executable. This is done using
the following command:

```bash
chmod +x compressExtract.sh
```

This script will look in the ./resources/compressTestDirectory, pick a file at random, 
extract the file (name it based on the unix time), recompress the extracted content,
delete the extracted content, and delete the original zip file.  A set of 10
test files has been provided with the repo. The files vary in size from a few hundred KB to a few
dozen MB. The contents inside the zip files varies form individual files, source code, and public
domain video games.

These files have been sourced from royalty free & public domain sources.

The script runs in an infinite loop and each iteration is delayed by 10-30 seconds randomly.


### Complex Math

To run this script, the file must be marked as executable. This is done using
the following command:

```bash
chmod +x complexMath.sh
```

This script will attempt to perform 13^99 many times in a loop. This will greatly tax the CPU.
The load will be ran for a random amount of time between 2 and 8 seconds.

The script runs in an infinite loop and each iteration is delayed by 10-20 seconds randomly.

### Memory Stress

To run this script, the file must be marked as executable. This is done using
the following command:

```bash
chmod +x memoryStress.sh
```

This script will randomly allocated between 1MB and 250MB of RAM and then de-allocated it.

The script runs in an infinite loop and each iteration is delayed by 5-15 seconds randomly.


### Launcher

To run this script, the file must be marked as executable. This is done using
the following command:

```bash
chmod +x launcher.sh
```

This script will launch all the other test scripts in their own terminals. The scripts must have
already had their chmod command called for this to work.

```bash
./launcher.sh
```

To close the opened windows, press CTRL + C.
