****Below are the steps to installing and using sysstat (A performance monitoring tool available on linux-based systems) for data gathering ****

**Installing sysstat**

Reading and recording the metrics using sysstat:
Install sysstat with the following command:
1. sudo apt update
2. sudo apt-get install sysstat
Enable data collection:
1. Enable Sysstat monitoring:
o Open the configuration file in a text editor:
sudo vim /etc/default/sysstat
o Set ENABLED to true:
       ENABLED="true"
o Save and close the file.
2. Start sysstat service by executing:
       sudo systemctl enable sysstat
       sudo systemctl start sysstat

**Enable Sysstat:**

In the terminal, open the configuration file by entering:
	sudo nano /etc/default/sysstat
		Set “ENABLED”=”true”


Log files will be stored in /var/log/sysstat

**Permissions**

Give permissions to write to log directory
sudo chmod 755 /var/log/sysstat

Running the malware in the simulated environment
Downloading malware sample from https://bazaar.abuse.ch/
Samples used for experimentation:
https://bazaar.abuse.ch/sample/d993aae6252b5cf877fbbf57ed5ff736c8a04e7191d79ae0299dbb34fcecfeff/
https://bazaar.abuse.ch/download/b229a9aee3aaa7a55f4feb4c2eef8dde003f9dfdee906a2415b47518333e8d5c



**Data collection**
Take readings every 1 second for 60 seconds and record to a logfile “baseline”, “malware1”, and “malware2”  for the baseline and each piece of malware (password needed):
       sudo sar -o /var/log/sysstat/baseline 1 60
       sudo sar -o /var/log/sysstat/malware1 1 60
       sudo sar -o /var/log/sysstat/malware2 1 60
       

System performance metrics collected including:
* CPU usage
* Memory usage
* I/O activity
* Network activity
* Disk usage


Redirect the initial file outputs into readable files with the tee command
sudo bash -c "sar -A -f /var/log/sysstat/baseline > /var/log/sysstat/baseline.txt"
sudo bash -c "sar -A -f /var/log/sysstat/malware1 > /var/log/sysstat/malware1.txt"
sudo bash -c "sar -A -f /var/log/sysstat/malware2 > /var/log/sysstat/malware2.txt"


The text log files can then be read in the “/var/log/sysstat” directory
