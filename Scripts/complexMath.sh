#!/bin/bash

# Function to generate CPU load for a specified duration
cpuLoad() {
    local duration=$1
    local end=$((SECONDS + duration))
    while [ $SECONDS -lt $end ]; do
        echo $((13**99)) > /dev/null    # Discards all data
    done
}

# Function to generate a random number between a specified range
randomDuration() {
    local min=$1
    local max=$2
    echo $((RANDOM % (max - min + 1) + min))
}

# Infinite loop
while true; do
    # Generate a random load duration between 2 and 8 seconds
    loadDuration=$(randomDuration 2 8)
    echo "Starting CPU load for $loadDuration seconds..."
    cpuLoad $loadDuration
    echo "CPU load finished."

    # Generate a random delay duration between 10 and 20 seconds
    delay=$(randomDuration 10 20)
    echo "Sleeping for $delay seconds..."
    sleep $delay
done